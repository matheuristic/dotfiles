#+TITLE: Mac OS X Notes
* Applications
- [[https://www.google.com/chrome/][Chrome]]
- [[https://cyberduck.io/][Cyberduck]]
- [[https://www.devontechnologies.com/apps/devonthink][DevonThink Pro]] /(license needed)/
- [[https://discordapp.com/][Discord]]
- [[https://docs.docker.com/docker-for-mac/install/][Docker]]
- [[https://emacsformacosx.com/][Emacs for OS X]]
- [[https://www.mozilla.org/en-US/firefox/new/][Firefox]]
- [[https://github.com/git-up/GitUp][GitUp]] /(or use [[https://magit.vc/][Magit]] in Emacs)/
- [[http://tentouchapps.com/grafio/][Grafio]] /(license needed)/ *(coming soon)*
- [[https://www.toketaware.com/ithoughts-osx][iThoughts]] /(license needed or via App Store)/
- [[https://www.iterm2.com/][iTerm2]]
- [[https://jumpdesktop.com/][Jump Desktop]] /(paid)/
- [[http://kablock.com/][Ka-Block!]]
- [[https://sw.kovidgoyal.net/kitty/][kitty]]
- [[https://www.macports.org/][MacPorts]]
- [[https://www.office.com/][Microsoft Office]] /(license needed)/
- [[https://docs.conda.io/en/latest/miniconda.html][Miniconda]]
- [[https://openvpn.net/vpn-server-resources/connecting-to-access-server-with-macos/][OpenVPN]] /(as needed)/
- [[https://pdfexpert.com/][PDF Expert]] /(license needed)/ or [[https://smilesoftware.com/store][PDFPenPro]] /(license needed)/
- [[https://www.getpostman.com/][Postman]]
- [[https://eggerapps.at/postico/][Postico]]
- [[https://qxmledit.org/][QXmlEdit]]
- [[https://www.royalapplications.com/ts/mac/features][Royal TSX]]
- [[https://slack.com/][Slack]]
- [[https://github.com/yihui/tinytex][TinyTeX]]
- [[https://github.com/aahung/Unshaky][Unshaky]] /(workaround for double keypress issue on butterfly keyboards)/
- [[https://github.com/Zettlr/Zettlr][Zettlr]] /(Zettelkasten Markdown editor)/
- [[https://www.zotero.org/][Zotero]]
* Application-specific configuration
** kitty
*** Using Option as Meta or Alt
To use the Option key as Meta or Alt, add the following line to the =~/.config/kitty.conf= file:
#+begin_src
macos_option_as_alt all
#+end_src
If only the left Option key or right Option key is to be used, ~left~ or ~right~ can be specified in place of ~all~.
*** Syncing the kitty terminfo file to remote systems
It is usually recommended to make sure the /kitty/ terminfo files are sync'ed over to any new remote server being connected to.
To do this, the first time ssh'ing in can be done using
#+begin_src sh
$ kitty +kitten ssh myserver
#+end_src
or the terminfo file can be copied using
#+begin_src sh
infocmp xterm-kitty | ssh myserver tic -x -o \~/.terminfo /dev/stdin
#+end_src
orjust copy over the local kitty terminfo file to the other system as =~/.terminfo/x/xterm-kitty=.
** MacPorts
***  Recommended packages
#+begin_src
aspell
aspell-dict-en
autoconf
automake
bat
clojure
fish
fzf
htop
lftp
mosh
openjdk8 / openjdk11
qpdf
p7zip
ripgrep
rlwrap
tmux
unrar
wget
xsv
#+end_src
*** Migration process after upgrading to a new version of OS X
- See instructions [[https://trac.macports.org/wiki/Migration][here]].
** friendly interactive shell (fish)
*** Setup
- [[https://github.com/fish-shell/fish-shell][fish]] can be installed via MacPorts.
- Set up terminal to use fish as the shell.
  - For [[https://sw.kovidgoyal.net/kitty/][kitty]], in =~/.config/kitty/kitty.conf=, set the shell to the installed fish binary with the ~--login~ option, i.e. add the line ~shell /path/to/bin/fish --login~ (modify ~/path/to/bin/fish~ as necessary).
  - For [[https://support.apple.com/guide/terminal/welcome/mac][Terminal]] or [[https://www.iterm2.com/][iterm2]], set up a profile that runs ~fish~ on start. For example, in the Terminal app open "Preferences > Profiles" and create a new profile, enable "Shell > Startup > Run Command" and set its value to the installed fish binary (with the ~--login~ option as necessary). Set the new profile as the default profile.
- [[https://github.com/jorgebucaran/fisher][fisher]] can be used to manage fish packages.
- If using the ~done~ fish package, install [[https://github.com/julienXX/terminal-notifier][terminal-notifier]] for notifications with icons. Download a release bundle, unzip the app to some path (e.g. ~/path/to/terminal-notifier.app~), create the following wrapper script (change the path as is necessary) and put it in one of the ~$PATH~ directories:
#+begin_src
#!/bin/bash

# Wrapper for the terminal-notifier app
# https://github.com/julienXX/terminal-notifier

/path/to/terminal-notifier.app/Contents/MacOS/terminal-notifier $@
#+end_src
*** Recommended packages
#+begin_src
franciscolourenco/done
jethrokuan/fzf
jethrokuan/z
jorgebucaran/fish-nvm
rafaelrinaldi/pure
#+end_src
** Clojure
- Clojure can be installed via MacPorts (install the ~clojure~ and one of the ~openjdk*~ packages). Java jar dependencies will be downloaded to =~/.m2= after running ~clojure~ the first time.
- For managing builds and dependencies, install ~lein~ which can be done manually. See the [[https://leiningen.org/][Leiningen website]] for instructions. Java jar dependencies will be downloaded to =~/.lein/self-installs=.
** R
*** Compiling C programs using Xcode 10+
- From Xcode 10 onwards (i.e. OS X 10.14 onwards), C headers are no longer installed to ~/usr/local/include~ rooted at the system root ~/~ by default.
- Headers are instead installed to a subsystem rooted at ~/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk~ (i.e. at ~/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include~).
- Compilation flags need to set to point to the approprate paths for R to properly compile C programs using Clang, e.g. see ~.R/Makevars~ file in this repository.
- For more information, see this [[https://thecoatlessprofessor.com/programming/cpp/r-compiler-tools-for-rcpp-on-macos/][blog post]].
- The above should be handled automatically in the [[https://cran.r-project.org/bin/macosx/][official R installer]] but needs to be done manually for R installed by other means, e.g. installing ~r-base~ via [[https://docs.conda.io/en/latest/miniconda.html][conda]].
* Usage tips
- ~Control-Command-Q~ locks the screen.
