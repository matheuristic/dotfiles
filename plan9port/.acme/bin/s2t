#!/bin/sh

# Change spaces to tabs for STDIN or piped text, where each argument length
# sequence of leading spaces is converted to a tab (default is $tabstop or 4)
# Also see https://stackoverflow.com/questions/9222281/replace-leading-whitespace-with-sed-or-similar
SPACESPERTAB=$(printf "%*s" "${1:-${tabstop:-4}}" "")
sed ":a;s/^\(\(${SPACESPERTAB}\)*\)${SPACESPERTAB}/\1	/;ta"
